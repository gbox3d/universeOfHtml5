export default async function e({API_BASE_URL:e,adminKey:t}){let r={"Content-Type":"application/json"};return{version:"1.0.0",hello:()=>fetch(`${e}/`,{method:"GET"}),registerUser:(t,d,s)=>fetch(`${e}/users/register`,{method:"POST",headers:r,body:JSON.stringify({username:t,password:d,comment:s})}),loginUser:(t,d)=>fetch(`${e}/users/login`,{method:"POST",headers:r,body:JSON.stringify({username:t,password:d})}),getUserInfo:t=>fetch(`${e}/users/me`,{method:"GET",headers:{...r,Authorization:`Bearer ${t}`}}),updateUserInfo:(t,d)=>fetch(`${e}/users/update`,{method:"POST",headers:{...r,Authorization:`Bearer ${t}`},body:JSON.stringify({comment:d})}),addLog:(t,d,s,a)=>fetch(`${e}/logs/add`,{method:"POST",headers:{...r,Authorization:`Bearer ${t}`},body:JSON.stringify({log:{level:d,lecture:s,extra:a}})}),getLogs(t,d={}){let s={...r,Authorization:`Bearer ${t}`};return d.lecture&&(s["x-lecture"]=d.lecture.trim()),d.startDate&&(s["x-start-time"]=d.startDate),d.endDate&&(s["x-end-time"]=d.endDate),d.page&&(s["x-page"]=d.page),d.num&&(s["x-num"]=d.num),fetch(`${e}/logs/list`,{method:"GET",headers:s})},getAdminLogs(d){let s={"x-admin-key":t,...r};return d.username&&(s["x-user-name"]=d.username.trim()),d.lecture&&(s["x-lecture"]=d.lecture.trim()),d.startDate&&(s["x-start-time"]=d.startDate),d.endDate&&(s["x-end-time"]=d.endDate),d.page&&(s["x-page"]=d.page),d.num&&(s["x-num"]=d.num),fetch(`${e}/admin/logs/list`,{method:"GET",headers:s})},deleteLogs:d=>fetch(`${e}/admin/logs/delete`,{method:"POST",headers:{"x-admin-key":t,...r},body:JSON.stringify({ids:d})}),checkAdminAuth:()=>fetch(`${e}/admin/`,{method:"GET",headers:{"x-admin-key":t}}),listUsers:(r,d)=>fetch(`${e}/admin/users/list`,{method:"GET",headers:{"x-admin-key":t,"x-page":r,"x-num":d}}),deleteUser:d=>fetch(`${e}/admin/users/delete`,{method:"POST",headers:{"x-admin-key":t,...r},body:JSON.stringify({username:d})}),addUser:(d,s,a)=>fetch(`${e}/admin/users/add`,{method:"POST",headers:{"x-admin-key":t,...r},body:JSON.stringify({username:d,password:s,comment:a})}),updateUser:(d,s,a)=>fetch(`${e}/admin/users/update`,{method:"POST",headers:{"x-admin-key":t,...r},body:JSON.stringify({username:d,password:s,comment:a})}),getUserDetails:r=>fetch(`${e}/admin/users/info`,{method:"GET",headers:{"x-admin-key":t,"x-user-name":r}})}};