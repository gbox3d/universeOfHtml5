<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />

		<title>phonegap jqm basic sample 0</title>
		
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.css" />
		
		<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
		
		<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
		
		<script>
			$(function() {
				
				//변경이 됐을때....
				$(':jqmData(role="controlgroup"):eq(0)').change(function(event) {
					console.log(event);
					var checked = $(this).find(':checked');
					
					$('#log')[0].innerHTML = '';
					$.each(checked,function(index,item) {
						$('#log')[0].innerHTML += $(item).val();
						
						if( checked.filter(':last')[0] != item )
						{
								$('#log')[0].innerHTML +=  ',';
						}
						
						
					});
					
				});
				
				//읽이내기
				$(':jqmData(role="button"):contains("읽기")').bind('click', function(event) {
				 
				  var checked = $('fieldset:eq(0) :checked');
				  
				  $('#log')[0].innerHTML += '<br>';
				  
					$.each(checked,function(index,item) {
						$('#log')[0].innerHTML += $(item).val();
						
						
						if( checked.filter(':last')[0] != item )
						{
								$('#log')[0].innerHTML +=  ',';
						}
						
						
					});
				  
				});
				
				//데이터 쓰기
				$(':jqmData(role="button"):contains("쓰기")').toggle( function(event) {
					
					var target = $('fieldset:eq(0) :checkbox:[value="japan"]');
					
					$(target).attr('checked',true).checkboxradio('refresh');
				  
				},
				function(event) {
					var target = $('fieldset:eq(0) :checkbox:[value="japan"]');
					
					$(target).attr('checked',false).checkboxradio('refresh');
				});
				
				///////////////////////////////
				
			});
		</script>
		
	</head>

	<body>
		<div data-role="page">
			<div data-role="header">
				<h1>Home</h1>
			</div><!-- /header -->
			
			<!-- 
			레이블의 for는 아이디값과 일치 시켜준다. -->
			
			<div data-role='content'>
				
				<div data-role='fieldcontain'>
					
					<fieldset  data-role='controlgroup'>
						<label for='checkbox-french' >french</label>
						<input type="checkbox" id='checkbox-french' value='french' />
						<label for='checkbox-italy' >italy</label>
						<input type="checkbox" id='checkbox-italy' value='italy' />
						<label for='checkbox-japan' >japan</label>
						<input type="checkbox" id='checkbox-japan' value='japan' />
						<label for='checkbox-china' >china</label>
						<input type="checkbox" id='checkbox-china' value='china' />
					</fieldset>
					
				</div>
				
				<a data-role='button'> 읽기 </a>
				<a data-role='button'> 쓰기 </a>
				
				<p id='log' ></p>
				
			</div><!-- /content -->
			
			<div data-role='footer' data-position="fixed">
				<h1>&copy; 2011-12 goorume</h1>
			</div><!-- /footer -->
		</div>
			
	</body>
</html>