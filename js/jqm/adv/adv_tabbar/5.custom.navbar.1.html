<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <title>phonegap jqm basic sample</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />

    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

    <script>

        $(document).bind('mobileinit', function(evt) {

            //리프레쉬버튼을 눌렀을때 시작 페이지로 페이지 초기화를 한다.
            var strTokens = location.href.split('#');
            console.log('size : ' + strTokens.length);
            if(strTokens.length >= 2) {
                location.href = strTokens[0];
                console.log('current page : #' + strTokens[1]);
                console.log('reset startup page');
                return false;
            }

            //$.mobile 관련 전역변수 초기화는 여기서한다.
            $.mobile.autoInitializePage = false;
            console.log('mobile init');

        });

    </script>

    <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>

    <script>
        $(document).ready(function() {
            console.log('document ready..');
            console.log('before jqm pageinit');

            //페이지 관련 이밴트들은 여기서 바인딩시켜줘야한다.
            //$(':jqmData(role="content")').text('hello jqm!');

            $.mobile.initializePage();
            // 페이지 초기화 관련 pageinit 메쎄지가 처리된다.

            // 이 시점부터 첫 페이지가 보이기 시작.....
            console.log('after jqm pageinit');
            //document 이벤트관련 초기화는 여기서 한다.
        });
    </script>

    <style>
        .nav-glyphish-example .ui-btn .ui-btn-inner { padding-top: 40px; }
        .nav-glyphish-example .ui-btn .ui-icon {
            width: 30px;
            height: 30px;
            margin-left: -15px;
            -webkit-box-shadow: none;
            -webkit-border-radius: 0;
        }
        #chat .ui-icon { background:  url(glyphish-icons/09-chat2.png) 50% 50% no-repeat; background-size: 24px 22px; }
        #email .ui-icon { background:  url(glyphish-icons/18-envelope.png) 50% 50% no-repeat; background-size: 24px 16px;  }
        #login .ui-icon { background:  url(glyphish-icons/30-key.png) 50% 50% no-repeat;  background-size: 12px 26px; }
        #beer .ui-icon { background:  url(glyphish-icons/88-beermug.png) 50% 50% no-repeat;  background-size: 22px 27px; }
        #coffee .ui-icon { background:  url(glyphish-icons/100-coffee.png) 50% 50% no-repeat;  background-size: 20px 24px; }
        #skull .ui-icon { background:  url(glyphish-icons/21-skull.png) 50% 50% no-repeat;  background-size: 22px 24px; }
    </style>

</head>

<body>
<div data-role="page">
    <div data-role="header">
        <h1>header</h1>
    </div><!-- /header -->

    <div data-role='content'>

    </div><!-- /content -->



    <div data-role="footer" class="nav-glyphish-example">
        <div data-role="navbar" class="nav-glyphish-example" data-grid="d">
            <ul>
                <li><a href="#" id="chat" data-icon="custom">Chat</a></li>
                <li><a href="#" id="email" data-icon="custom">Email</a></li>
                <li><a href="#" id="skull" data-icon="custom">Danger</a></li>
                <li><a href="#" id="beer" data-icon="custom">Beer</a></li>
                <li><a href="#" id="coffee" data-icon="custom">Coffee</a></li>
            </ul>
        </div>
    </div>
    <!-- /footer -->
</div>

</body>
</html>