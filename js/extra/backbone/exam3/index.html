<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8" />

        <title>iqm simple sample</title>

        <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1.0, user-scalable=no"/>
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />


        <link rel="stylesheet" href="../lib/std-jqm/css/themes/default/jquery.mobile-1.2.0.css" />

        <script src="../lib/std-jqm/js/jquery.js"></script>


        <script src="../lib/backbone/json2.js"></script>
        <script src="../lib/backbone/underscore.js"></script>
        <script src="../lib/backbone/backbone.js"></script>

        <script>

            $(document).bind('mobileinit', function(evt) {
                //$.mobile 관련 전역변수 초기화는 여기서한다.
                $.mobile.autoInitializePage = false;
                console.log('mobile init');

            });

        </script>

        <script src="../lib/std-jqm//js/jquery.mobile-1.2.0.js"></script>

        <script type="text/javascript">
            var MyApp = {};

            $(function() {

                //페이지 초기화 이전작업은 여기서 코딩해준다..
                //페이지 초기화 관련 pageinit 메쎄지가 처리된다.
                $.mobile.initializePage();

                //페이지 초기화 이후작업 여기에 코딩해준다.
                MyApp.homeview = new Myclass.HomeView(
                        {
                            page_id: 'home'
                        }
                );

                MyApp.page1view = new Myclass.Page1view(
                        {
                            page_id: 'page1',
                            page_templete: './pages/page1.html',
                            cb_pageload_complete: function(textstatus) {
                                console.log('page1 ' + textstatus);
                            }
                        }
                );
                MyApp.page2view = new Myclass.Page2view(
                        {
                            page_id: 'page2',
                            page_templete: './pages/page2.html',
                            cb_pageload_complete: function(textstatus) {
                                console.log('page2 ' + textstatus);
                            }
                        }
                );
            });

        </script>

    </head>

    <body>
        <div data-role="page" id="home">
            <div data-role="header" >
                <h1>Backbone.js + jQuery Mobile</h1>
            </div>
            <div data-role="content">
                <p>home view</p>
            </div>
            <div data-role="footer" data-position="fixed" >
                <div data-role='navbar'>
                    <ul>
                        <!-- 
                        액티브 상태 유지를 위해서는 ui-state-persist가 필요하다 그렇지 않으면 페이지가 바뀔때 
                        ui-btn-active 가 없어진다.
                        -->
                        <li><a class="ui-btn-active ui-state-persist" >home</a></li>
                        <li><a href="#page1" >page1</a></li>
                        <li><a href="#page2" >page2</a></li>

                    </ul>
                </div>
            </div>
        </div> <!--         home end-->
        <div id='target' ></div>
        <script type="text/javascript" src="pages/viewbase.js"></script>
        <script type="text/javascript" src="pages/homeview.js"></script>
        <script type="text/javascript" src="pages/page1.js"></script>
        <script type="text/javascript" src="pages/page2.js"></script>

    </body>
</html>