<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>hello-backbonejs</title>
        <script src="../lib/jquery.js"></script>
        <script src="../lib/json2.js"></script>
        <script src="../lib/underscore.js"></script>
        <script src="../lib/backbone.js"></script>

        <script>
            $(function() {
                Person = Backbone.Model.extend({
                    initialize: function() {
                        console.log('wellcome' + this.get('name'));
                        /*
                 * 리스너 설정 예 
                 */
                        this.bind("change:name", function() {
                            console.log('change : ' + this.get('name'));
                        });

                        this.bind('error', function(model, error) {
                            console.log('error occur~');
                            console.log(model);
                            console.log(error);
                        })


                    },
                    defaults: {
                        name: 'lsz',
                        age: 42,
                        children: []
                    },
                    replaceNameAttr: function(_name) {
                        this.set({name: _name});
                    },
                    validate: function(attributes) {
                        if (attributes.age < 0) {
                            return 'u cant have negative age!';
                        }
                    }
                });
                var person = new Person();
                person.set({name: 'tommy'});
                console.log(person.get('name'));
                person.set({age: -2});

            });

        </script>
    </head>
    <body>
    </body>
</html>
