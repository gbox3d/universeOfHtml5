<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>timer sample - setTimeout </title>

		<script src="http://code.jquery.com/jquery-latest.js"></script>

		<script type="text/javascript">
			$(document).ready(function() {
				
				var count = 0;
				
				function counter(param) {
					count++;
					
					$('<p></p>').appendTo('div').text('tick :' + (new Date()).getTime() +',' + count + param.test);
					
					/*$('div').append('<p></p>')
					.find('p:last')
					.text('tick :' + (new Date()).getTime() +',' + count + param.test);
					*/
					 console.log(param);
					
				}
				
					
				var tID = window.setInterval(
					counter, 
					1000, 
					{test:'hello'} 
					);
					
				$('button:eq(0)').bind('click',function() {
					window.clearInterval(tID);
					$('div').append('<p></p>').find('p:last').text('stop timer!');
				});
			});
		</script>
	</head>
	<body>
		<button>stop</button>
		<div></div>
		
	</body>
</html>
