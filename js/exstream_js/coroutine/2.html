<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="kriskowal/q.js"></script>
        <script src="../libs/jquery-1.7.1.min.js"></script>
        <script>
            
    
            var delay = function(delaytime) {
                var d = Q.defer();
                setTimeout(d.resolve, delaytime);
                return d.promise;
            }

            function promiseClick(obj) {
                var d = Q.defer();
                $(obj).on('click', d.resolve);
                return d.promise;
            }
            
            $(function() {
                Q.when(delay(1000), function() {
                    console.log('hello promise');
                    $('<p></p>').text('hello promise').appendTo('#log');
                });
                Q.when(promiseClick($('#test-click')), function() {
                    $('<p></p>').text('test click').appendTo('#log');
                });

            })








        </script>
    </head>

    <body>
        <button id="test-click">test</button>
        <div id='log'></div>
    </body>
</html>
