<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--
			BufferLoader
		싸운드 파일 도우미 클래스  -->

		<title> simple sample </title>

		<script src="buffer-loader.js"></script>
		<script src="../jquery.js"></script>

		<script>
			
			var context;
			var bufferLoader;

			$(function() {

				//여러개의 싸운드 파일을 비동기적으로 로딩한다.
				bufferLoader = new BufferLoader(context,
                        ['./sounds/techno.wav','./sound/kick.wav'],
                        //['http://ukga.web-bi.net/mp3/rockGuitar.mp3', 'http://ukga.web-bi.net/mp3/horse.mp3'],
				function(bufferList) {//로딩이 모두 완료 되면...

					$('#log').html($('#log').html() + 'load ok<br/>');

					// Create two sources and play them both together.
					var source1 = context.createBufferSource();
					var source2 = context.createBufferSource();
					source1.buffer = bufferList[0];
					source2.buffer = bufferList[1];

					source1.connect(context.destination);
					source2.connect(context.destination);
					source1.noteOn(0);
					source2.noteOn(0);
				});

				bufferLoader.load();
			});

		</script>

	</head>

	<body>
		<p id ='log'></p>

	</body>
</html>
